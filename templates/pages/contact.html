{% extends 'base.html' %}

{% block title %}Bog'lanish | Muhammadziyo - Django Dasturchi{% endblock %}

{% block meta_description %}Muhammadziyo bilan bog'laning. Python, Django, Aiogram loyihalari uchun takliflar, maslahat va hamkorlik.{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="contact-hero bg-gradient-primary text-white py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <div class="mb-4">
                    <span class="badge bg-white text-primary rounded-pill px-4 py-2 mb-3">
                        <i class="fas fa-paper-plane me-2"></i> Aloqa
                    </span>
                    <h1 class="display-4 fw-bold mb-3">Keling, Hamkorlik Qilaylik</h1>
                    <p class="lead mb-4">
                        Loyihangiz yoki g'oyangiz haqida gaplashamiz. 
                        Men sizning texnologik muammolaringizga yechim topishga yordam beraman.
                    </p>
                    
                    <!-- Quick Stats -->
                    <div class="row g-3">
                        <div class="col-4">
                            <div class="text-center">
                                <div class="display-5 fw-bold mb-1">24/7</div>
                                <div class="small opacity-75">Javob vaqti</div>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="text-center">
                                <div class="display-5 fw-bold mb-1">100%</div>
                                <div class="small opacity-75">Mijoz qoniqishi</div>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="text-center">
                                <div class="display-5 fw-bold mb-1">2 soat</div>
                                <div class="small opacity-75">Tez javob</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="floating-contact-card bg-white rounded-4 p-4 shadow-lg position-relative">
                    <div class="position-absolute top-0 start-50 translate-middle">
                        <div class="contact-icon-wrapper bg-primary text-white rounded-circle p-3">
                            <i class="fas fa-headset fa-2x"></i>
                        </div>
                    </div>
                    
                    <div class="pt-5">
                        <h4 class="text-center mb-4 text-primary">Qanday yordam kerak?</h4>
                        <div class="row g-3">
                            <div class="col-6">
                                <div class="service-option text-center p-3 rounded-3 border">
                                    <i class="fas fa-code fa-2x text-primary mb-2"></i>
                                    <div class="fw-medium">Loyiha ishlash</div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="service-option text-center p-3 rounded-3 border">
                                    <i class="fas fa-lightbulb fa-2x text-warning mb-2"></i>
                                    <div class="fw-medium">Maslahat</div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="service-option text-center p-3 rounded-3 border">
                                    <i class="fas fa-users fa-2x text-success mb-2"></i>
                                    <div class="fw-medium">Hamkorlik</div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="service-option text-center p-3 rounded-3 border">
                                    <i class="fas fa-question-circle fa-2x text-info mb-2"></i>
                                    <div class="fw-medium">Savollar</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Information -->
<div class="container py-5">
    <div class="row g-4 mb-5">
        <!-- Contact Cards -->
        <div class="col-lg-4 col-md-6">
            <div class="contact-card card border-0 shadow-sm h-100 hover-lift">
                <div class="card-body p-4 text-center">
                    <div class="contact-icon-wrapper mb-4">
                        <div class="icon-circle bg-primary bg-opacity-10 text-primary">
                            <i class="fas fa-envelope fa-2x"></i>
                        </div>
                    </div>
                    <h5 class="card-title mb-3">Elektron Pochta</h5>
                    <p class="card-text text-muted mb-4">
                        Ishlar uchun asosiy aloqa usuli
                    </p>
                    <a href="mailto:muhammadziyobegaliyev872@gmail.com" 
                       class="btn btn-outline-primary w-100">
                        <i class="fas fa-envelope me-2"></i>
                        Email yuborish
                    </a>
                    <div class="mt-3">
                        <small class="text-muted">
                            Javob vaqti: <span class="text-success fw-medium">24 soat ichida</span>
                        </small>
                    </div>
                </div>
                <div class="card-footer bg-transparent border-top text-center py-3">
                    <a href="mailto:muhammadziyobegaliyev872@gmail.com" 
                       class="text-decoration-none text-primary">
                        muhammadziyobegaliyev872@gmail.com
                    </a>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6">
            <div class="contact-card card border-0 shadow-sm h-100 hover-lift">
                <div class="card-body p-4 text-center">
                    <div class="contact-icon-wrapper mb-4">
                        <div class="icon-circle bg-success bg-opacity-10 text-success">
                            <i class="fas fa-phone fa-2x"></i>
                        </div>
                    </div>
                    <h5 class="card-title mb-3">Telefon orqali</h5>
                    <p class="card-text text-muted mb-4">
                        Tezkor aloqa uchun qo'ng'iroq qiling
                    </p>
                    <a href="tel:+998901431051" 
                       class="btn btn-outline-success w-100">
                        <i class="fas fa-phone me-2"></i>
                        Qo'ng'iroq qilish
                    </a>
                    <div class="mt-3">
                        <small class="text-muted">
                            Ish vaqti: <span class="fw-medium">9:00 - 18:00</span>
                        </small>
                    </div>
                </div>
                <div class="card-footer bg-transparent border-top text-center py-3">
                    <a href="tel:+998901431051" 
                       class="text-decoration-none text-success fw-medium">
                        +998 90 143 10 51
                    </a>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6">
            <div class="contact-card card border-0 shadow-sm h-100 hover-lift">
                <div class="card-body p-4 text-center">
                    <div class="contact-icon-wrapper mb-4">
                        <div class="icon-circle bg-info bg-opacity-10 text-info">
                            <i class="fab fa-telegram fa-2x"></i>
                        </div>
                    </div>
                    <h5 class="card-title mb-3">Telegram</h5>
                    <p class="card-text text-muted mb-4">
                        Tezkor xabar almashish uchun
                    </p>
                    <a href="https://t.me/Muhammadziyo7008" 
                       target="_blank"
                       class="btn btn-outline-info w-100">
                        <i class="fab fa-telegram me-2"></i>
                        Telegramda yozish
                    </a>
                    <div class="mt-3">
                        <small class="text-muted">
                            Online: <span class="text-success fw-medium">Hozir</span>
                        </small>
                    </div>
                </div>
                <div class="card-footer bg-transparent border-top text-center py-3">
                    <a href="https://t.me/Muhammadziyo7008" 
                       target="_blank"
                       class="text-decoration-none text-info">
                        @Muhammadziyo7008
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="row g-5">
        <!-- Contact Form -->
        <div class="col-lg-7">
            <div class="contact-form-wrapper">
                <div class="section-header mb-4">
                    <div class="d-flex align-items-center mb-3">
                        <div class="icon-wrapper bg-primary bg-opacity-10 rounded-circle p-3 me-3">
                            <i class="fas fa-comment-dots text-primary fa-lg"></i>
                        </div>
                        <div>
                            <h2 class="mb-1">Xabar Yuborish</h2>
                            <p class="text-muted mb-0">Xabaringizni qoldiring, men siz bilan bog'lanaman</p>
                        </div>
                    </div>
                </div>
                
                <div class="card border-0 shadow-lg rounded-4">
                    <div class="card-body p-4 p-lg-5">
                        {% if messages %}
                        <div class="alert alert-success rounded-4 mb-4" role="alert">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-check-circle fa-2x text-success me-3"></i>
                                <div>
                                    <h5 class="alert-heading mb-1">Xabar muvaffaqiyatli yuborildi!</h5>
                                    <p class="mb-0">Tez orada siz bilan bog'lanaman.</p>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                        
                        <form method="post" id="contactForm" novalidate>
                            {% csrf_token %}
                            
                            <div class="row g-4">
                                <!-- Name Field -->
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="name" class="form-label fw-medium mb-2">
                                            <i class="fas fa-user me-2 text-primary"></i>
                                            Ismingiz <span class="text-danger">*</span>
                                        </label>
                                        <div class="input-group">
                                            <span class="input-group-text bg-light border-end-0">
                                                <i class="fas fa-user text-muted"></i>
                                            </span>
                                            <input type="text" 
                                                   class="form-control form-control-lg border-start-0" 
                                                   id="name" 
                                                   name="name" 
                                                   required
                                                   placeholder="Ismingizni kiriting"
                                                   autocomplete="name">
                                        </div>
                                        <div class="invalid-feedback" id="nameFeedback">
                                            Iltimos, ismingizni kiriting.
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Email Field -->
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="email" class="form-label fw-medium mb-2">
                                            <i class="fas fa-envelope me-2 text-primary"></i>
                                            Email manzilingiz <span class="text-danger">*</span>
                                        </label>
                                        <div class="input-group">
                                            <span class="input-group-text bg-light border-end-0">
                                                <i class="fas fa-envelope text-muted"></i>
                                            </span>
                                            <input type="email" 
                                                   class="form-control form-control-lg border-start-0" 
                                                   id="email" 
                                                   name="email" 
                                                   required
                                                   placeholder="email@example.com"
                                                   autocomplete="email">
                                        </div>
                                        <div class="invalid-feedback" id="emailFeedback">
                                            Iltimos, to'g'ri email manzilini kiriting.
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Subject Field -->
                                <div class="col-12">
                                    <div class="form-group">
                                        <label for="subject" class="form-label fw-medium mb-2">
                                            <i class="fas fa-tag me-2 text-primary"></i>
                                            Mavzu <span class="text-danger">*</span>
                                        </label>
                                        <div class="input-group">
                                            <span class="input-group-text bg-light border-end-0">
                                                <i class="fas fa-tag text-muted"></i>
                                            </span>
                                            <input type="text" 
                                                   class="form-control form-control-lg border-start-0" 
                                                   id="subject" 
                                                   name="subject" 
                                                   required
                                                   placeholder="Xabar mavzusi"
                                                   autocomplete="off">
                                        </div>
                                        <div class="invalid-feedback" id="subjectFeedback">
                                            Iltimos, mavzuni kiriting.
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Message Field -->
                                <div class="col-12">
                                    <div class="form-group">
                                        <label for="message" class="form-label fw-medium mb-2">
                                            <i class="fas fa-edit me-2 text-primary"></i>
                                            Xabaringiz <span class="text-danger">*</span>
                                        </label>
                                        <div class="input-group">
                                            <span class="input-group-text bg-light border-end-0 align-items-start pt-3">
                                                <i class="fas fa-comment text-muted"></i>
                                            </span>
                                            <textarea class="form-control form-control-lg border-start-0" 
                                                      id="message" 
                                                      name="message" 
                                                      rows="5"
                                                      required
                                                      placeholder="Xabaringizni batafsil yozing..."
                                                      autocomplete="off"></textarea>
                                        </div>
                                        <div class="invalid-feedback" id="messageFeedback">
                                            Iltimos, xabaringizni kiriting.
                                        </div>
                                        <div class="form-text mt-2">
                                            <i class="fas fa-info-circle me-1"></i>
                                            Iltimos, loyiha haqida batafsil ma'lumot bering
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Submit Button -->
                                <div class="col-12">
                                    <div class="d-grid">
                                        <button type="submit" 
                                                class="btn btn-primary btn-lg py-3"
                                                id="submitBtn">
                                            <i class="fas fa-paper-plane me-2"></i>
                                            <span class="submit-text">Xabarni yuborish</span>
                                            <span class="spinner-border spinner-border-sm ms-2 d-none" 
                                                  role="status" 
                                                  aria-hidden="true"></span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sidebar Information -->
        <div class="col-lg-5">
            <!-- Location Map -->
            <div class="card border-0 shadow-sm rounded-4 mb-4">
                <div class="card-body p-4">
                    <h5 class="card-title mb-4">
                        <i class="fas fa-map-marker-alt text-danger me-2"></i>
                        Manzilim
                    </h5>
                    <div class="location-wrapper">
                        <div class="location-card bg-light rounded-3 p-4 mb-3">
                            <div class="d-flex align-items-center">
                                <div class="location-icon me-3">
                                    <i class="fas fa-city fa-2x text-primary"></i>
                                </div>
                                <div>
                                    <h6 class="fw-bold mb-1">Toshkent, O'zbekiston</h6>
                                    <p class="text-muted mb-0">Online ishlayman</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="virtual-office bg-primary bg-opacity-10 rounded-3 p-4">
                            <h6 class="fw-semibold mb-3">
                                <i class="fas fa-laptop-house me-2"></i>
                                Virtual Ofis
                            </h6>
                            <div class="row g-3">
                                <div class="col-6">
                                    <div class="text-center">
                                        <div class="fw-bold text-primary">7/24</div>
                                        <div class="small text-muted">Mavjudlik</div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="text-center">
                                        <div class="fw-bold text-primary">UTC+5</div>
                                        <div class="small text-muted">Vaqt zonasi</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Working Hours -->
            <div class="card border-0 shadow-sm rounded-4 mb-4">
                <div class="card-body p-4">
                    <h5 class="card-title mb-4">
                        <i class="fas fa-clock text-warning me-2"></i>
                        Ish Jadvali
                    </h5>
                    <div class="working-hours">
                        {% for schedule in schedule_data %}
                        <div class="schedule-item d-flex justify-content-between align-items-center py-3 border-bottom">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-calendar-day me-3 text-primary"></i>
                                <span>{{ schedule.day }}</span>
                            </div>
                            <div class="time-slot">
                                <span class="badge {% if schedule.status == 'open' %}bg-success{% else %}bg-secondary{% endif %}">
                                    {{ schedule.time }}
                                </span>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    
                    <div class="mt-4 alert alert-info bg-info bg-opacity-10 border-0 rounded-3">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-info-circle text-info me-3"></i>
                            <div>
                                <small class="text-muted">
                                    Ish vaqtidan tashqarida ham telegram orqali javob beraman.
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Social Links -->
            <div class="card border-0 shadow-sm rounded-4">
                <div class="card-body p-4">
                    <h5 class="card-title mb-4">
                        <i class="fas fa-share-alt text-info me-2"></i>
                        Ijtimoiy Tarmoqlar
                    </h5>
                    <div class="social-links-grid">
                        <a href="https://t.me/Muhammadziyo7008" 
                           target="_blank" 
                           class="social-link telegram d-flex align-items-center p-3 rounded-3 mb-3 text-decoration-none">
                            <div class="social-icon-wrapper me-3">
                                <i class="fab fa-telegram fa-2x"></i>
                            </div>
                            <div class="flex-grow-1">
                                <div class="fw-semibold">Telegram</div>
                                <small class="text-muted">Tezkor aloqa uchun</small>
                            </div>
                            <i class="fas fa-external-link-alt"></i>
                        </a>
                        
                        <a href="https://github.com/MuhammadziyoBegaliyev" 
                           target="_blank" 
                           class="social-link github d-flex align-items-center p-3 rounded-3 mb-3 text-decoration-none">
                            <div class="social-icon-wrapper me-3">
                                <i class="fab fa-github fa-2x"></i>
                            </div>
                            <div class="flex-grow-1">
                                <div class="fw-semibold">GitHub</div>
                                <small class="text-muted">Kodlarim va loyihalarim</small>
                            </div>
                            <i class="fas fa-external-link-alt"></i>
                        </a>
                        
                        <a href="https://linkedin.com/in/muhammadziyo" 
                           target="_blank" 
                           class="social-link linkedin d-flex align-items-center p-3 rounded-3 text-decoration-none">
                            <div class="social-icon-wrapper me-3">
                                <i class="fab fa-linkedin fa-2x"></i>
                            </div>
                            <div class="flex-grow-1">
                                <div class="fw-semibold">LinkedIn</div>
                                <small class="text-muted">Professional profil</small>
                            </div>
                            <i class="fas fa-external-link-alt"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- FAQ Section -->
<div class="bg-light py-5 mt-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="section-header text-center mb-5">
                    <h2 class="mb-3">
                        <i class="fas fa-question-circle text-primary me-2"></i>
                        Tez-tez Beriladigan Savollar
                    </h2>
                    <p class="text-muted">Aloqa bo'yicha eng ko'p beriladigan savollarga javoblar</p>
                </div>
                
                <div class="accordion" id="faqAccordion">
                    <!-- FAQ Item 1 -->
                    <div class="accordion-item border-0 mb-3">
                        <h3 class="accordion-header">
                            <button class="accordion-button collapsed rounded-3" 
                                    type="button" 
                                    data-bs-toggle="collapse" 
                                    data-bs-target="#faq1">
                                <i class="fas fa-clock me-3 text-primary"></i>
                                Xabaringizga qancha vaqtda javob berasiz?
                            </button>
                        </h3>
                        <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p>Odatda 2-24 soat ichida javob beraman. Ish vaqti ichida (9:00-18:00) tezroq javob beraman.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- FAQ Item 2 -->
                    <div class="accordion-item border-0 mb-3">
                        <h3 class="accordion-header">
                            <button class="accordion-button collapsed rounded-3" 
                                    type="button" 
                                    data-bs-toggle="collapse" 
                                    data-bs-target="#faq2">
                                <i class="fas fa-money-bill-wave me-3 text-success"></i>
                                Loyiha narxini qanday hisoblanadi?
                            </button>
                        </h3>
                        <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p>Loyiha murakkabligi, vaqti va texnik talablariga qarab hisoblanadi. Bepas konsultatsiya va narx taklifi beraman.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- FAQ Item 3 -->
                    <div class="accordion-item border-0">
                        <h3 class="accordion-header">
                            <button class="accordion-button collapsed rounded-3" 
                                    type="button" 
                                    data-bs-toggle="collapse" 
                                    data-bs-target="#faq3">
                                <i class="fas fa-code me-3 text-info"></i>
                                Qanday loyihalar ustida ishlaysiz?
                            </button>
                        </h3>
                        <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p>Python, Django, Django REST Framework, Aiogram asosida veb-ilovalar, API lar, Telegram botlar, CRM tizimlari va e-commerce platformalari.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* Hero Section */
    .bg-gradient-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    .floating-contact-card {
        animation: float 6s ease-in-out infinite;
    }
    
    .contact-icon-wrapper {
        width: 80px;
        height: 80px;
        margin: 0 auto;
    }
    
    .icon-circle {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    /* Contact Cards */
    .contact-card {
        transition: all 0.3s ease;
    }
    
    .hover-lift:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(0,0,0,0.1) !important;
    }
    
    /* Form Styling */
    .form-group {
        margin-bottom: 1.5rem;
    }
    
    .form-control-lg {
        padding: 0.875rem 1rem;
        font-size: 1rem;
    }
    
    .input-group-text {
        background-color: #f8f9fa;
        border-color: #dee2e6;
    }
    
    /* Social Links */
    .social-links-grid {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }
    
    .social-link {
        transition: all 0.3s ease;
        border: 1px solid #dee2e6;
        background: white;
    }
    
    .social-link:hover {
        transform: translateX(5px);
        border-color: #667eea;
        background-color: rgba(102, 126, 234, 0.05);
    }
    
    .social-link.telegram:hover {
        border-color: #0088cc;
        background-color: rgba(0, 136, 204, 0.05);
    }
    
    .social-link.github:hover {
        border-color: #333;
        background-color: rgba(51, 51, 51, 0.05);
    }
    
    .social-link.linkedin:hover {
        border-color: #0077b5;
        background-color: rgba(0, 119, 181, 0.05);
    }
    
    /* Service Options */
    .service-option {
        transition: all 0.3s ease;
        cursor: pointer;
    }
    
    .service-option:hover {
        background-color: rgba(102, 126, 234, 0.1);
        transform: translateY(-3px);
        border-color: #667eea !important;
    }
    
    /* Schedule Items */
    .schedule-item {
        transition: background-color 0.3s ease;
    }
    
    .schedule-item:hover {
        background-color: rgba(102, 126, 234, 0.05);
        border-radius: 8px;
        padding-left: 1rem;
        padding-right: 1rem;
    }
    
    /* Animations */
    @keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .animate-in {
        animation: fadeIn 0.8s ease-out;
    }
    
    /* Accordion */
    .accordion-button {
        background-color: white;
        font-weight: 500;
    }
    
    .accordion-button:not(.collapsed) {
        background-color: rgba(102, 126, 234, 0.1);
        color: #667eea;
        box-shadow: none;
    }
    
    .accordion-button:focus {
        box-shadow: 0 0 0 0.25rem rgba(102, 126, 234, 0.25);
        border-color: #667eea;
    }
    
    /* Mobile Optimizations */
    @media (max-width: 768px) {
        .contact-hero {
            padding: 3rem 0;
        }
        
        .contact-hero h1 {
            font-size: 2.5rem;
        }
        
        .form-control-lg {
            font-size: 16px !important; /* Prevent iOS zoom */
        }
        
        .btn-lg {
            font-size: 18px;
            padding: 0.75rem 1.5rem;
        }
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Form validation
        const contactForm = document.getElementById('contactForm');
        const submitBtn = document.getElementById('submitBtn');
        const submitText = submitBtn.querySelector('.submit-text');
        const spinner = submitBtn.querySelector('.spinner-border');
        
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Reset validation
            const formControls = contactForm.querySelectorAll('.form-control');
            formControls.forEach(control => {
                control.classList.remove('is-invalid');
            });
            
            // Basic validation
            let isValid = true;
            const name = document.getElementById('name');
            const email = document.getElementById('email');
            const subject = document.getElementById('subject');
            const message = document.getElementById('message');
            
            // Name validation
            if (!name.value.trim()) {
                name.classList.add('is-invalid');
                isValid = false;
            }
            
            // Email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!email.value.trim() || !emailRegex.test(email.value)) {
                email.classList.add('is-invalid');
                isValid = false;
            }
            
            // Subject validation
            if (!subject.value.trim()) {
                subject.classList.add('is-invalid');
                isValid = false;
            }
            
            // Message validation
            if (!message.value.trim()) {
                message.classList.add('is-invalid');
                isValid = false;
            }
            
            if (isValid) {
                // Show loading state
                submitText.textContent = 'Yuborilmoqda...';
                spinner.classList.remove('d-none');
                submitBtn.disabled = true;
                
                // Simulate form submission (replace with actual AJAX call)
                setTimeout(() => {
                    // Submit the form
                    contactForm.submit();
                }, 1500);
            }
        });
        
        // Real-time validation
        const inputs = contactForm.querySelectorAll('.form-control');
        inputs.forEach(input => {
            input.addEventListener('input', function() {
                if (this.classList.contains('is-invalid')) {
                    this.classList.remove('is-invalid');
                }
            });
        });
        
        // Service option selection
        const serviceOptions = document.querySelectorAll('.service-option');
        serviceOptions.forEach(option => {
            option.addEventListener('click', function() {
                // Remove active class from all options
                serviceOptions.forEach(opt => {
                    opt.style.backgroundColor = '';
                    opt.style.borderColor = '';
                });
                
                // Add active class to clicked option
                this.style.backgroundColor = 'rgba(102, 126, 234, 0.1)';
                this.style.borderColor = '#667eea !important';
                
                // Set subject based on selection
                const serviceText = this.querySelector('.fw-medium').textContent;
                document.getElementById('subject').value = `${serviceText} haqida`;
                
                // Auto-focus message field
                document.getElementById('message').focus();
            });
        });
        
        // Copy contact info
        const contactInfo = document.querySelectorAll('[data-copy]');
        contactInfo.forEach(info => {
            info.addEventListener('click', function() {
                const text = this.textContent.trim();
                navigator.clipboard.writeText(text).then(() => {
                    // Show success message
                    const originalHTML = this.innerHTML;
                    this.innerHTML = '<i class="fas fa-check me-2"></i>Nusxalandi!';
                    this.style.color = 'green';
                    
                    setTimeout(() => {
                        this.innerHTML = originalHTML;
                        this.style.color = '';
                    }, 2000);
                });
            });
        });
        
        // Add scroll animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-in');
                }
            });
        }, { threshold: 0.1 });
        
        // Observe elements
        document.querySelectorAll('.contact-card, .floating-contact-card, .accordion-item').forEach(el => {
            observer.observe(el);
        });
        
        // Initialize tooltips
        const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });
        
        // Add data for schedule
        const scheduleData = [
            { day: 'Dushanba - Juma', time: '9:00 - 18:00', status: 'open' },
            { day: 'Shanba', time: '10:00 - 16:00', status: 'open' },
            { day: 'Yakshanba', time: 'Dam olish', status: 'closed' }
        ];
        
        // Generate schedule dynamically
        const scheduleContainer = document.querySelector('.working-hours');
        if (scheduleContainer) {
            scheduleContainer.innerHTML = scheduleData.map(item => `
                <div class="schedule-item d-flex justify-content-between align-items-center py-3 border-bottom">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-calendar-day me-3 text-primary"></i>
                        <span>${item.day}</span>
                    </div>
                    <div class="time-slot">
                        <span class="badge ${item.status === 'open' ? 'bg-success' : 'bg-secondary'}">
                            ${item.time}
                        </span>
                    </div>
                </div>
            `).join('');
        }
    });
</script>

{% endblock %}